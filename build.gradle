group = 'uk.co.o2'
version = '1.0'
apply plugin: 'idea'
apply plugin: 'scala'

repositories {
    mavenCentral()
}

ext.scalaVersion = "2.9.2"
ext.cucumberVersion = "1.0.4"

dependencies {
    scalaTools "org.scala-lang:scala-compiler:${scalaVersion}"
    scalaTools "org.scala-lang:scala-library:${scalaVersion}"

    compile "org.scala-lang:scala-library:${scalaVersion}"
    compile "org.scala-lang:scala-compiler:${scalaVersion}"
    compile "org.scalaj:scalaj-time_2.9.2:0.6"


    testCompile "org.scalatest:scalatest_2.9.0:2.0.M5"

    testCompile "info.cukes:cucumber-core:${cucumberVersion}"
    testCompile "info.cukes:cucumber-scala:${cucumberVersion}"
    testCompile "info.cukes:cucumber-junit:${cucumberVersion}"
    testCompile 'junit:junit:4.11'

    testRuntime "info.cukes:cucumber-picocontainer:${cucumberVersion}"
    testRuntime "org.picocontainer:picocontainer:2.14.2"

}

idea.project.ipr.withXml { provider ->
    def vcsConfig = provider.asNode().component.find { it.'@name' == 'VcsDirectoryMappings' }
    vcsConfig.mapping[0].'@vcs' = 'Git'
}
